(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"f+ep":function(n,l,u){"use strict";u.r(l);var e=u("8Y7J");class t{}var s=u("pMnS"),o=u("MKJQ"),i=u("sZkV"),a=u("s7LF"),r=u("mrSG");class b{constructor(n,l,u){this.route=n,this.fb=l,this.router=u}ngOnInit(){}ionViewWillEnter(){sessionStorage.clear(),this.name="",this.password=""}logForm(){this.buildLoginForm(),this.get_current_user("./assets/infoUser.json")}buildLoginForm(){this.loginForm=this.fb.group({name:[this.name],password:[this.password]})}get_current_user(n){fetch(n).then(n=>n.json()).then(n=>{this.userInfo=n.filter(n=>n.name===this.loginForm.value.name).filter(n=>n.password===this.loginForm.value.password)[0],this.checkUserData()})}checkUserData(){void 0===this.userInfo?alert("Invalid name or password: Please try again"):this.set_data().then()}set_data(){return r.a(this,void 0,void 0,(function*(){yield fetch("./assets/restaurants.json").then(n=>n.json()).then(n=>{window.sessionStorage.setItem("allRestaurants",JSON.stringify(n))}),yield fetch("./assets/orders.json").then(n=>n.json()).then(n=>{this.ordersCurrentUser=n.filter(n=>n.userId===parseInt(this.userInfo.id,10)),this.userInfo.ordersCount=this.ordersCurrentUser.length,window.sessionStorage.setItem("currentUser",JSON.stringify(this.userInfo)),window.sessionStorage.setItem("ordersCurrentUser",JSON.stringify(this.ordersCurrentUser))}),yield this.router.navigateByUrl("tabs/settings")}))}}var g=u("iInd"),d=e.nb({encapsulation:0,styles:[[""]],data:{}});function h(n){return e.Kb(0,[(n()(),e.pb(0,0,null,null,6,"ion-header",[],null,null,null,o.N,o.m)),e.ob(1,49152,null,0,i.A,[e.h,e.k,e.x],null,null),(n()(),e.pb(2,0,null,0,4,"ion-toolbar",[],null,null,null,o.bb,o.A)),e.ob(3,49152,null,0,i.yb,[e.h,e.k,e.x],null,null),(n()(),e.pb(4,0,null,0,2,"ion-title",[],null,null,null,o.ab,o.z)),e.ob(5,49152,null,0,i.wb,[e.h,e.k,e.x],null,null),(n()(),e.Ib(-1,0,["login"])),(n()(),e.pb(7,0,null,null,33,"ion-content",[],null,null,null,o.L,o.k)),e.ob(8,49152,null,0,i.t,[e.h,e.k,e.x],null,null),(n()(),e.pb(9,0,null,0,31,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,l,u){var t=!0,s=n.component;return"submit"===l&&(t=!1!==e.Bb(n,11).onSubmit(u)&&t),"reset"===l&&(t=!1!==e.Bb(n,11).onReset()&&t),"ngSubmit"===l&&(t=!1!==s.logForm()&&t),t}),null,null)),e.ob(10,16384,null,0,a.m,[],null,null),e.ob(11,4210688,null,0,a.h,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),e.Fb(2048,null,a.a,null,[a.h]),e.ob(13,16384,null,0,a.g,[[4,a.a]],null,null),(n()(),e.pb(14,0,null,null,11,"ion-item",[],null,null,null,o.R,o.q)),e.ob(15,49152,null,0,i.G,[e.h,e.k,e.x],null,null),(n()(),e.pb(16,0,null,0,2,"ion-label",[],null,null,null,o.S,o.r)),e.ob(17,49152,null,0,i.M,[e.h,e.k,e.x],null,null),(n()(),e.Ib(-1,0,["Name"])),(n()(),e.pb(19,0,null,0,6,"ion-input",[["autocomplete",""],["name","name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(n,l,u){var t=!0,s=n.component;return"ionBlur"===l&&(t=!1!==e.Bb(n,20)._handleBlurEvent(u.target)&&t),"ionChange"===l&&(t=!1!==e.Bb(n,20)._handleInputEvent(u.target)&&t),"ngModelChange"===l&&(t=!1!==(s.name=u)&&t),t}),o.Q,o.p)),e.ob(20,16384,null,0,i.Hb,[e.k],null,null),e.Fb(1024,null,a.d,(function(n){return[n]}),[i.Hb]),e.ob(22,671744,null,0,a.i,[[2,a.a],[8,null],[8,null],[6,a.d]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Fb(2048,null,a.e,null,[a.i]),e.ob(24,16384,null,0,a.f,[[4,a.e]],null,null),e.ob(25,49152,null,0,i.F,[e.h,e.k,e.x],{autocomplete:[0,"autocomplete"],name:[1,"name"],type:[2,"type"]},null),(n()(),e.pb(26,0,null,null,11,"ion-item",[],null,null,null,o.R,o.q)),e.ob(27,49152,null,0,i.G,[e.h,e.k,e.x],null,null),(n()(),e.pb(28,0,null,0,2,"ion-label",[],null,null,null,o.S,o.r)),e.ob(29,49152,null,0,i.M,[e.h,e.k,e.x],null,null),(n()(),e.Ib(-1,0,["Password"])),(n()(),e.pb(31,0,null,0,6,"ion-input",[["name","password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(n,l,u){var t=!0,s=n.component;return"ionBlur"===l&&(t=!1!==e.Bb(n,32)._handleBlurEvent(u.target)&&t),"ionChange"===l&&(t=!1!==e.Bb(n,32)._handleInputEvent(u.target)&&t),"ngModelChange"===l&&(t=!1!==(s.password=u)&&t),t}),o.Q,o.p)),e.ob(32,16384,null,0,i.Hb,[e.k],null,null),e.Fb(1024,null,a.d,(function(n){return[n]}),[i.Hb]),e.ob(34,671744,null,0,a.i,[[2,a.a],[8,null],[8,null],[6,a.d]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Fb(2048,null,a.e,null,[a.i]),e.ob(36,16384,null,0,a.f,[[4,a.e]],null,null),e.ob(37,49152,null,0,i.F,[e.h,e.k,e.x],{name:[0,"name"],type:[1,"type"]},null),(n()(),e.pb(38,0,null,null,2,"ion-button",[["type","submit"]],null,null,null,o.D,o.c)),e.ob(39,49152,null,0,i.j,[e.h,e.k,e.x],{type:[0,"type"]},null),(n()(),e.Ib(-1,0,["Login"]))],(function(n,l){var u=l.component;n(l,22,0,"name",u.name),n(l,25,0,"","name","text"),n(l,34,0,"password",u.password),n(l,37,0,"password","password"),n(l,39,0,"submit")}),(function(n,l){n(l,9,0,e.Bb(l,13).ngClassUntouched,e.Bb(l,13).ngClassTouched,e.Bb(l,13).ngClassPristine,e.Bb(l,13).ngClassDirty,e.Bb(l,13).ngClassValid,e.Bb(l,13).ngClassInvalid,e.Bb(l,13).ngClassPending),n(l,19,0,e.Bb(l,24).ngClassUntouched,e.Bb(l,24).ngClassTouched,e.Bb(l,24).ngClassPristine,e.Bb(l,24).ngClassDirty,e.Bb(l,24).ngClassValid,e.Bb(l,24).ngClassInvalid,e.Bb(l,24).ngClassPending),n(l,31,0,e.Bb(l,36).ngClassUntouched,e.Bb(l,36).ngClassTouched,e.Bb(l,36).ngClassPristine,e.Bb(l,36).ngClassDirty,e.Bb(l,36).ngClassValid,e.Bb(l,36).ngClassInvalid,e.Bb(l,36).ngClassPending)}))}function p(n){return e.Kb(0,[(n()(),e.pb(0,0,null,null,1,"app-login",[],null,null,null,h,d)),e.ob(1,114688,null,0,b,[g.a,a.b,g.m],null,null)],(function(n,l){n(l,1,0)}),null)}var m=e.lb("app-login",b,p,{},{},[]),c=u("SVse");class C{}u.d(l,"LoginPageModuleNgFactory",(function(){return f}));var f=e.mb(t,[],(function(n){return e.yb([e.zb(512,e.j,e.X,[[8,[s.a,m]],[3,e.j],e.v]),e.zb(4608,c.k,c.j,[e.s,[2,c.q]]),e.zb(4608,a.l,a.l,[]),e.zb(4608,i.b,i.b,[e.x,e.g]),e.zb(4608,i.Cb,i.Cb,[i.b,e.j,e.p]),e.zb(4608,i.Fb,i.Fb,[i.b,e.j,e.p]),e.zb(1073742336,c.b,c.b,[]),e.zb(1073742336,a.k,a.k,[]),e.zb(1073742336,a.c,a.c,[]),e.zb(1073742336,i.Ab,i.Ab,[]),e.zb(1073742336,g.o,g.o,[[2,g.t],[2,g.m]]),e.zb(1073742336,C,C,[]),e.zb(1073742336,t,t,[]),e.zb(1024,g.k,(function(){return[[{path:"",component:b}]]}),[])])}))}}]);